<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Расчет Оклада</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.png" type="image/png"> <!-- Ссылка на фавикон -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/locales/ru.min.js'></script>
</head>
<body>
    <div class="logo-container">
        <img src="logo.png" alt="Urban University Logo">
    </div>
    <h1>РАСЧЕТ ОКЛАДА ЗА МЕСЯЦ</h1>
    <div class="container">
        <label for="days">Количество рабочих дней в месяце:</label>
        <input type="number" id="days">
        
        <label for="my_work_days">Количество всех отработанных смен:</label>
        <input type="number" id="my_work_days">
        
        <label for="high_work_days">Из них дополнительных смен:</label>
        <input type="number" id="high_work_days">
        
        <button onclick="calculateSalary()">Рассчитать</button>
        
        <p id="salaryResult"></p>
    </div>

    <h1>РАСЧЕТ БОНУСНОЙ ЧАСТИ</h1>
    <div class="container">
        <label for="basic_lesson">Количество всех прошедших уроков:</label>
        <input type="number" id="basic_lesson">
        
        <label for="medium_lesson">Количество прошедших уроков по коэффициенту 1.5:</label>
        <input type="number" id="medium_lesson">
        
        <label for="high_lesson">Количество прошедших уроков по коэффициенту 2:</label>
        <input type="number" id="high_lesson">
        
        <button onclick="calculateBonus()">Рассчитать</button>
        
        <p id="bonusResult"></p>
        <p id="totalIncome"></p>
    </div>

    <div id="calendar-container"></div>

    <script>
        function calculateSalary() {
            const days = parseInt(document.getElementById('days').value);
            const myWorkDays = parseInt(document.getElementById('my_work_days').value);
            const highWorkDays = parseInt(document.getElementById('high_work_days').value);
            
            const oklad = 40000 / days;
            const salary = Math.round((myWorkDays * oklad) + (highWorkDays * oklad), 1);

            document.getElementById('salaryResult').innerText = `
                Стоимость обычного дня: ${oklad.toFixed(1)} рублей
                Оклад за месяц: ${salary.toFixed(1)} рублей
            `;
        }

        function calculateBonus() {
            const basicLesson = parseInt(document.getElementById('basic_lesson').value);
            const mediumLesson = parseInt(document.getElementById('medium_lesson').value);
            const highLesson = parseInt(document.getElementById('high_lesson').value);

            const lesson = 250;
            const mediumCoefficient = 1.5;
            const highCoefficient = 2;
            let bonus = basicLesson * lesson;

            if (mediumLesson > 0 || highLesson > 0) {
                bonus += highLesson * lesson;
                bonus += mediumLesson * (lesson * mediumCoefficient - lesson);
            }

            const salaryText = document.getElementById('salaryResult').innerText;
            const salaryMatch = salaryText.match(/Оклад за месяц: ([\d.]+) рублей/);
            let salary = 0;

            if (salaryMatch) {
                salary = parseFloat(salaryMatch[1]);
            }

            document.getElementById('bonusResult').innerText = `Бонус за месяц: ${bonus.toFixed(1)} рублей`;
            document.getElementById('totalIncome').innerText = `Итоговый доход за месяц: ${(salary + bonus).toFixed(1)} рублей`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const calendarEl = document.getElementById('calendar-container');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                firstDay: 1, // Неделя начинается с понедельника
                locale: 'ru', // Устанавливаем русский язык
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,dayGridWeek,dayGridDay'
                },
                buttonText: {
                    today: 'Сегодня',
                    month: 'Месяц',
                    week: 'Неделя',
                    day: 'День'
                },
                dayHeaderContent: function(arg) {
                    const day = arg.date.getDay();
                    const daysOfWeek = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];
                    return { html: daysOfWeek[day] };
                },
                dayCellContent: function(arg) {
                    const day = arg.date.getDay();
                    if (day === 0 || day === 6) {
                        arg.el.style.backgroundColor = 'black';
                        arg.el.style.color = 'white';
                    }
                }
            });
            calendar.render();
        });
    </script>
</body>
</html>

